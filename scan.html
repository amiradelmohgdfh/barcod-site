<script>
let scannedBarcodes = JSON.parse(localStorage.getItem("barcodes")) || [];

function showBarcodes() {
    const list = document.getElementById("barcodeList");
    list.innerHTML = "";
    scannedBarcodes.forEach((code, index) => {
        const li = document.createElement("li");
        li.textContent = (index + 1) + " - " + code;
        list.appendChild(li);
    });
}

// بعد از اسکن
function onScanSuccess(decodedText) {
    scannedBarcodes.push(decodedText);
    localStorage.setItem("barcodes", JSON.stringify(scannedBarcodes));
    showBarcodes();
}

// نمایش لیست قبلی بعد از رفرش
window.onload = showBarcodes;
</script>
